---
import Head from 'layout:head';
import AutoLay from 'layout:default';

import Card from 'component:card';

import {process} from 'lib';

const sorter = (a,b) => process.date.math(b.key) - process.date.math(a.key);

const all_posts = process.url(Astro.fetchContent('./**/*.md')).sort(sorter);
---

<html lang="en">
	<head>
		<Head title="Frontier | Home" description=""/>
	</head>
	<body>
		<AutoLay>
		<section class="ƒ ƒ∑ ∆-bw mx-a" style="max-width: 1200px;">
			<div class="fw3 p10 m20 †c mx-a rx5" style="font-size:1.1rem;background:#c338;border:1px solid #c33;">
				This is still a work in progress!, I've just put it back up for my own convenience
			</div>
			<Card {...all_posts[0]} size="mx" client:load/>

			{all_posts.map(post => (
				<Card {...post} client:visible/>
			))}
		</section>
		</AutoLay>
	</body>
</html>